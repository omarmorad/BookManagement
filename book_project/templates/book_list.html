{% extends "base.html" %}

{% block content %}
    <h1>Books</h1>
    <div class="mb-4">
        <a href="{% url 'book-create' %}" class="btn btn-primary">
            <i class="bi bi-plus-circle"></i> Add New Book
        </a>
    </div>
    <div class="book-list">
        {% for book in books %}
            <div class="book-item">
                {% if book.image %}
                    <img src="{{ book.image.url }}" alt="{{ book.title }}" style="max-width: 150px;">
                {% endif %}
                <h2><a href="{{ book.get_absolute_url }}">{{ book.title }}</a></h2>
                <p>By <a href="{{ book.author.get_absolute_url }}">{{ book.author.name }}</a></p>
                <div class="mt-3">
                    <a href="{% url 'book-edit' book.id %}" class="btn btn-sm btn-outline-primary">
                        <i class="bi bi-pencil"></i> Edit
                    </a>
                    <a href="{% url 'book-delete' book.id %}" class="btn btn-sm btn-outline-danger" 
                       onclick="return confirm('Are you sure you want to delete this book?')">
                        <i class="bi bi-trash"></i> Delete
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}